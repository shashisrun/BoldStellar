{"ast":null,"code":"import axios from '../Services/ApiService';\nimport CookieService from '../Services/CookieService';\nconst cookie = new CookieService();\n\nclass ApiRepositories {\n  async GetMenu(id = '') {\n    try {\n      const response = await axios.get('/api/menu/' + id);\n      return response.data;\n    } catch (error) {\n      console.error('Error', error.response);\n      return false;\n    }\n  }\n\n  async CreateMenu(menu) {\n    try {\n      const response = await axios.post('/api/menu', menu);\n      return response.data;\n    } catch (error) {\n      console.error('Error', error.response);\n      return false;\n    }\n  }\n\n  async UpdateMenu(menu) {\n    try {\n      console.clear();\n      console.log(\"Update : \" + menu);\n      const response = await axios.put('/api/menu', menu);\n      console.log(response);\n      return response.data;\n    } catch (error) {\n      console.error('Error', error.response);\n      return false;\n    }\n  }\n\n  async DistroyMenu(menu) {\n    try {\n      console.clear();\n      console.log(\"Delete : \" + menu);\n      const response = await axios.delete('/api/menu/' + menu);\n      console.log(response);\n      return response.data;\n    } catch (error) {\n      console.error('Error', error.response);\n      return false;\n    }\n  }\n\n  async GetBlog(id = '') {\n    try {\n      const response = await axios.get('/api/blog/' + id);\n      return response.data;\n    } catch (error) {\n      console.error('Error', error.response);\n      return false;\n    }\n  }\n\n  async GetPage(id = '') {\n    try {\n      const response = await axios.get('/api/page/' + id);\n      return response.data;\n    } catch (error) {\n      console.error('Error', error.response);\n      return false;\n    }\n  }\n\n  async GetSlider(id = '') {\n    try {\n      const response = await axios.get('/api/slider/' + id);\n      return response.data;\n    } catch (error) {\n      console.error('Error', error.response);\n      return false;\n    }\n  }\n\n  async doUserLogin(credentials) {\n    try {\n      const response = await axios.post('oauth/token', credentials);\n      return response.data;\n    } catch (error) {\n      //console.error('Error', error.response);\n      return false;\n    }\n  }\n\n  async doUserRegistration(credentials) {\n    try {\n      const response = await axios.post('api/register', credentials);\n      return response.data;\n    } catch (error) {\n      console.error('Error', error);\n      return false;\n    }\n  }\n\n  async doUserLogout(credentials) {\n    try {\n      const response = await axios.post('api/logout', credentials);\n      cookie.remove('refresh_token');\n      cookie.remove('access_token');\n      cookie.remove('remeber_me');\n      console.error(response);\n      return response.data;\n    } catch (error) {\n      console.error('Error', error);\n      return false;\n    }\n  }\n\n  async doUserLogoutAll(credentials) {\n    try {\n      const response = await axios.post('api/logout/all', credentials);\n      cookie.remove('refresh_token');\n      cookie.remove('access_token');\n      cookie.remove('remeber_me');\n      console.error(response);\n      return response.data;\n    } catch (error) {\n      console.error('Error', error);\n      return false;\n    }\n  }\n\n  handleLoginSucces(response, remember = false) {\n    if (remember == false) {\n      const options = {\n        path: '/'\n      };\n      cookie.set('refresh_token', response.refresh_token, options);\n      cookie.set('access_token', response.access_token, options);\n      cookie.set('remeber_me', false);\n    } else {\n      const options = {\n        path: '/',\n        maxAge: response.expires_in\n      };\n      cookie.set('refresh_token', response.refresh_token, options);\n      cookie.set('access_token', response.access_token, {\n        path: '/'\n      });\n      cookie.set('remeber_me', true);\n    }\n\n    return true;\n  }\n\n  async isLoggedIn() {\n    if (cookie.get('access_token') != null) {\n      return true;\n    } else {\n      if (cookie.get('refresh_token') != null) {\n        const refreshCredentials = {\n          'refresh_token': cookie.get('refresh_token'),\n          'grant_type': 'refresh_token',\n          'client_id': '2',\n          'client_secret': 'h4Rszv34VV9o0BHKhowVSLEg5kfFIEvNlJoALpHc'\n        };\n\n        try {\n          const response = await axios.post('oauth/token', refreshCredentials); //console.log(response);\n\n          var options = null;\n\n          if (cookie.get('remember_me') == true) {\n            options = {\n              path: '/',\n              maxAge: response.expires_in\n            };\n          } else {\n            options = {\n              path: '/'\n            };\n          }\n\n          cookie.set('refresh_token', response.data.refresh_token, options);\n          cookie.set('access_token', response.data.access_token, {\n            path: '/'\n          });\n          return true;\n        } catch (error) {\n          console.error('Error', error.response);\n          return false;\n        }\n      } else {\n        return false;\n      }\n    }\n  }\n\n}\n\nexport default new ApiRepositories();","map":{"version":3,"sources":["/home/shashi/github/BoldStellar/src/Library/ApiRepositories.js"],"names":["axios","CookieService","cookie","ApiRepositories","GetMenu","id","response","get","data","error","console","CreateMenu","menu","post","UpdateMenu","clear","log","put","DistroyMenu","delete","GetBlog","GetPage","GetSlider","doUserLogin","credentials","doUserRegistration","doUserLogout","remove","doUserLogoutAll","handleLoginSucces","remember","options","path","set","refresh_token","access_token","maxAge","expires_in","isLoggedIn","refreshCredentials"],"mappings":"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","sourcesContent":["import axios from '../Services/ApiService';\nimport CookieService from '../Services/CookieService';\n\nconst cookie = new CookieService;\nclass ApiRepositories {\n\n    async GetMenu(id = ''){\n        try{\n            const response = await axios.get('/api/menu/'+id);\n            return response.data;\n        } catch(error) {\n            console.error('Error', error.response);\n            return false;\n        }\n    }\n\n    async CreateMenu(menu){\n        try{\n            const response = await axios.post('/api/menu', menu);\n            return response.data;\n        } catch(error) {\n            console.error('Error', error.response);\n            return false;\n        }\n    }\n\n    async UpdateMenu(menu){\n        try{\n            console.clear()\n            console.log(\"Update : \"+ menu)\n            const response = await axios.put('/api/menu', menu);\n            console.log(response);\n            return response.data;\n        } catch(error) {\n            console.error('Error', error.response);\n            return false;\n        }\n    }\n\n    async DistroyMenu(menu){\n        try{\n            console.clear()\n            console.log(\"Delete : \"+ menu)\n            const response = await axios.delete('/api/menu/'+ menu);\n            console.log(response);\n            return response.data;\n        } catch(error) {\n            console.error('Error', error.response);\n            return false;\n        }\n    }\n    \n\n    async GetBlog(id = ''){\n        try{\n            const response = await axios.get('/api/blog/'+id);\n            return response.data;\n        } catch(error) {\n            console.error('Error', error.response);\n            return false;\n        }\n    }\n\n    async GetPage(id = ''){\n        try{\n            const response = await axios.get('/api/page/'+id);\n            return response.data;\n        } catch(error) {\n            console.error('Error', error.response);\n            return false;\n        }\n    }\n\n    async GetSlider(id = ''){\n        try{\n            const response = await axios.get('/api/slider/'+id);\n            return response.data;\n        } catch(error) {\n            console.error('Error', error.response);\n            return false;\n        }\n    }\n\n    \n    \n    \n\n\n\n    async doUserLogin(credentials){\n        try{\n            const response = await axios.post('oauth/token', credentials);\n            return response.data;\n        } catch(error) {\n            //console.error('Error', error.response);\n            return false;\n        }\n    }\n    async doUserRegistration(credentials){\n        try{\n            const response = await axios.post('api/register', credentials);\n            return response.data;\n        } catch(error) {\n            console.error('Error', error);\n            return false;\n        }\n    }\n    async doUserLogout(credentials){\n        try{\n            const response = await axios.post('api/logout', credentials);\n            cookie.remove('refresh_token');\n            cookie.remove('access_token');\n            cookie.remove('remeber_me');\n            console.error(response);\n            return response.data;\n        } catch(error) {\n            console.error('Error', error);\n            return false;\n        }\n    }\n\n    async doUserLogoutAll(credentials){\n        try{\n            const response = await axios.post('api/logout/all', credentials);\n            cookie.remove('refresh_token');\n            cookie.remove('access_token');\n            cookie.remove('remeber_me');\n            console.error(response);\n            return response.data;\n        } catch(error) {\n            console.error('Error', error);\n            return false;\n        }\n    }\n\n    handleLoginSucces(response, remember = false){\n        if(remember == false){\n            const options = {path: '/'};\n            cookie.set('refresh_token', response.refresh_token, options);\n            cookie.set('access_token', response.access_token, options);\n            cookie.set('remeber_me', false);\n        }\n        else{\n            const options = {path: '/', maxAge: response.expires_in};\n            cookie.set('refresh_token', response.refresh_token, options);\n            cookie.set('access_token', response.access_token, {path: '/'});\n            cookie.set('remeber_me', true);\n        }\n        return true;\n    }\n\n    async isLoggedIn(){\n        if (cookie.get('access_token') != null){\n            return true;\n        }\n        else{\n            if (cookie.get('refresh_token') != null) {\n                const refreshCredentials = {\n                    'refresh_token': cookie.get('refresh_token'),\n                    'grant_type': 'refresh_token',\n                    'client_id': '2',\n                    'client_secret': 'h4Rszv34VV9o0BHKhowVSLEg5kfFIEvNlJoALpHc'\n                };\n                try{\n                    const response = await axios.post('oauth/token', refreshCredentials);\n                    //console.log(response);\n                    var options = null;\n                    if (cookie.get('remember_me') == true) {\n                        options = {path: '/', maxAge: response.expires_in};    \n                    } else {\n                        options = {path: '/'};\n                    }\n                    cookie.set('refresh_token', response.data.refresh_token, options);\n                    cookie.set('access_token', response.data.access_token, {path: '/'});\n                    return true;\n                } catch(error) {\n                    console.error('Error', error.response);\n                    return false;\n                }    \n            } else {\n                return false;\n            }\n            \n        }\n    }\n}\n\nexport default new ApiRepositories();"]},"metadata":{},"sourceType":"module"}